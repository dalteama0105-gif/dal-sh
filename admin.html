<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>TECH Hub Full Admin</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="css/style.css">
    <style>
        .admin-container { max-width: 1200px; margin: 2rem auto; padding: 20px; }
        .admin-section { background: white; padding: 2rem; border-radius: 12px; box-shadow: 0 4px 6px -1px rgba(0,0,0,0.1); margin-bottom: 3rem; }
        .admin-section h2 { border-bottom: 2px solid #f1f5f9; padding-bottom: 1rem; margin-bottom: 1.5rem; color: #1e293b; }
        .admin-card { background: #f8fafc; border: 1px solid #e2e8f0; padding: 1.5rem; border-radius: 8px; margin-bottom: 1rem; position: relative; }
        .admin-sub-section { margin-top: 2rem; margin-bottom: 1rem; padding-top: 1rem; border-top: 1px dashed #cbd5e1; }
        .admin-sub-section h3 { font-size: 1.2rem; color: #475569; margin-bottom: 1rem; }
        
        .form-grid { display: grid; grid-template-columns: 1fr 1fr; gap: 1rem; }
        .full-width { grid-column: 1 / -1; }
        
        label { display: block; font-size: 0.85rem; font-weight: 600; color: #64748b; margin-bottom: 0.4rem; }
        input, textarea, select { width: 100%; padding: 0.6rem; border: 1px solid #cbd5e1; border-radius: 6px; font-size: 0.95rem; margin-bottom: 1rem; }
        textarea { resize: vertical; min-height: 80px; }
        
        .btn-danger { background-color: #ef4444; color: white; padding: 0.4rem 0.8rem; font-size: 0.85rem; border: none; border-radius: 4px; cursor: pointer; }
        .admin-actions { margin-top: 2rem; padding-top: 1rem; border-top: 1px solid #e2e8f0; display: flex; gap: 1rem; }
        
        /* Tabs for cleaner UI */
        .admin-tabs { display: flex; gap: 1rem; margin-bottom: 2rem; flex-wrap: wrap; }
        .tab-btn { padding: 0.75rem 1.5rem; background: white; border: 1px solid #e2e8f0; border-radius: 8px; cursor: pointer; font-weight: 600; }
        .tab-btn.active { background: #2563eb; color: white; border-color: #2563eb; }
        .tab-content { display: none; }
        .tab-content.active { display: block; }
    </style>
</head>
<body>

<div class="admin-container">
    <div style="display:flex; justify-content:space-between; align-items:center; margin-bottom:2rem;">
        <h1>Manage Website Content</h1>
        <button onclick="logout()" class="btn btn-secondary">Logout</button>
    </div>

    <div class="admin-tabs">
        <button class="tab-btn active" onclick="switchTab('global')">Global & Footer</button>
        <button class="tab-btn" onclick="switchTab('home')">Home Page</button>
        <button class="tab-btn" onclick="switchTab('about')">About Page</button>
        <button class="tab-btn" onclick="switchTab('organisation')">Organisation</button>
        <button class="tab-btn" onclick="switchTab('services')">Services</button>
        <button class="tab-btn" onclick="switchTab('projects')">Projects</button>
        <button class="tab-btn" onclick="switchTab('career')">Career</button>
        <button class="tab-btn" onclick="switchTab('contact')">Contact</button>
    </div>

    <div id="tab-global" class="tab-content active">
        <div class="admin-section">
            <h2>Global Settings (Navbar & Footer)</h2>
            <div id="global-editor"></div>
            <div class="admin-actions">
                <button class="btn btn-primary" onclick="saveSiteData()">Save Global Settings</button>
            </div>
        </div>
    </div>

    <div id="tab-home" class="tab-content">
        <div class="admin-section">
            <h2>Home Page Content</h2>
            <div id="home-editor"></div>
            
            <div class="admin-sub-section">
                <h3>Latest News</h3>
                <div id="news-editor"></div>
                <button class="btn btn-secondary" onclick="addNewsItem()">+ Add News Item</button>
            </div>

            <div class="admin-actions">
                <button class="btn btn-primary" onclick="saveSiteData()">Save Home Page</button>
            </div>
        </div>
    </div>

    <div id="tab-about" class="tab-content">
        <div class="admin-section">
            <h2>About Page Content</h2>
            <div id="about-editor"></div>

            <div class="admin-sub-section">
                <h3>Core Values</h3>
                <div id="values-editor"></div>
                <button class="btn btn-secondary" onclick="addValue()">+ Add Value</button>
            </div>

            <div class="admin-actions">
                <button class="btn btn-primary" onclick="saveSiteData()">Save About Page</button>
            </div>
        </div>
    </div>

    <div id="tab-about" class="tab-content">
        <div class="admin-section">
            <h2>Organisation Page Content</h2>
            <div id="about-editor"></div>

            <div class="admin-sub-section">
                <h3>Team Members</h3>
                <div id="team-editor"></div>
                <button class="btn btn-secondary" onclick="addTeamMember()">+ Add Team Member</button>
            </div>

            <div class="admin-actions">
                <button class="btn btn-primary" onclick="saveSiteData()">Save Organisation Page</button>
            </div>
        </div>
    </div>

    <div id="tab-services" class="tab-content">
        <div class="admin-section">
            <h2>Services</h2>
            <div id="services-editor"></div>
            <div class="admin-actions">
                <button class="btn btn-secondary" onclick="addService()">+ Add Service</button>
                <button class="btn btn-primary" onclick="saveServices()">Save Services</button>
            </div>
        </div>
    </div>

    <div id="tab-projects" class="tab-content">
        <div class="admin-section">
            <h2>Projects</h2>
            <div id="projects-editor"></div>
            <div class="admin-actions">
                <button class="btn btn-secondary" onclick="addProject()">+ Add Project</button>
                <button class="btn btn-primary" onclick="saveProjects()">Save Projects</button>
            </div>
        </div>
    </div>

    <div id="tab-career" class="tab-content">
        <div class="admin-section">
            <h2>Career Page</h2>
            <h3>Intro Text</h3>
            <textarea id="career-intro-text"></textarea>
            
            <div class="admin-sub-section">
                <h3>Benefits</h3>
                <div id="benefits-editor"></div>
                <button class="btn btn-secondary" onclick="addBenefit()">+ Add Benefit</button>
            </div>

            <div class="admin-sub-section">
                <h3>Open Positions</h3>
                <div id="positions-editor"></div>
                <button class="btn btn-secondary" onclick="addPosition()">+ Add Position</button>
            </div>

            <div class="admin-actions">
                <button class="btn btn-primary" onclick="saveCareer()">Save Career Page</button>
            </div>
        </div>
    </div>

    <div id="tab-contact" class="tab-content">
        <div class="admin-section">
            <h2>Contact Page & Branches</h2>
            <div class="admin-sub-section">
                <h3>Main Contact Info</h3>
                <div id="main-contact-editor"></div>
            </div>
            
            <div class="admin-sub-section">
                <h3>Global Branches</h3>
                <div id="branches-editor"></div>
                <button class="btn btn-secondary" onclick="addBranch()">+ Add Branch</button>
            </div>

            <div class="admin-actions">
                <button class="btn btn-primary" onclick="saveContact()">Save Contact Page</button>
            </div>
        </div>
    </div>

</div>

<script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-app-compat.js"></script>
<script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-auth-compat.js"></script>
<script src="js/auth.js"></script>
<script src="js/admin.js"></script>
<script>
    // Tab Switching Logic
    function switchTab(tabName) {
        document.querySelectorAll('.tab-content').forEach(el => el.classList.remove('active'));
        document.querySelectorAll('.tab-btn').forEach(el => el.classList.remove('active'));
        
        document.getElementById('tab-' + tabName).classList.add('active');
        // Find button that calls this function and make active
        event.target.classList.add('active');
    }
</script>
</body>
</html>