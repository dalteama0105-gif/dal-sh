<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>TECH Hub Admin Panel</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="css/style.css">
</head>
<body>

<div class="admin-container">
    <div class="admin-header">
        <h1>CMS Admin Panel</h1>
        <button onclick="logout()" class="btn btn-secondary">Logout</button>
    </div>

    <div class="admin-tabs">
        <button class="tab-btn active" onclick="switchTab('global')">Global</button>
        <button class="tab-btn" onclick="switchTab('home')">Home</button>
        <button class="tab-btn" onclick="switchTab('about')">About</button>
        <button class="tab-btn" onclick="switchTab('organization')">Member</button>
        <button class="tab-btn" onclick="switchTab('rnd')">R&D</button>
        <button class="tab-btn" onclick="switchTab('products-page')">Products</button>
        <button class="tab-btn" onclick="switchTab('services')">Services</button>
        <button class="tab-btn" onclick="switchTab('projects')">Projects</button>
        <button class="tab-btn" onclick="switchTab('career')">Career</button>
        <button class="tab-btn" onclick="switchTab('contact')">Contact</button>
    </div>

    <div id="tab-global" class="admin-section active">
        <h2>Global Settings & Footer</h2>
        <div id="global-editor"></div>
        <div class="admin-actions">
            <button class="btn btn-primary" onclick="saveSiteData()">Save Global Settings</button>
        </div>
    </div>

    <div id="tab-home" class="admin-section">
        <h2>Home Page Content</h2>
        <div id="home-editor"></div>
        
        <div class="admin-sub-section">
            <h3>Hero Buttons</h3>
            <div id="hero-cta-editor"></div>
            <button class="btn btn-secondary" onclick="addHeroButton()">+ Add Hero Button</button>
        </div>

        <div class="admin-sub-section">
            <h3>Latest News</h3>
            <div id="news-editor"></div>
            <button class="btn btn-secondary" onclick="addNewsItem()">+ Add News Item</button>
        </div>

        <div class="admin-actions">
            <button class="btn btn-primary" onclick="saveSiteData()">Save Home Page</button>
        </div>
    </div>

    <div id="tab-about" class="admin-section">
        <h2>About Page Content</h2>
        <div id="about-editor"></div>

        <div class="admin-sub-section">
            <h3>Core Values</h3>
            <div id="values-editor"></div>
            <button class="btn btn-secondary" onclick="addValue()">+ Add Value</button>
        </div>

        <div class="admin-actions">
            <button class="btn btn-primary" onclick="saveSiteData()">Save About Page</button>
        </div>
    </div>

    <div id="tab-organization" class="admin-section">
        <h2>Organization Structure</h2>
        
        <div class="admin-sub-section">
            <h3>Founders / CEO</h3>
            <div id="org-ceo-editor"></div>
            <button class="btn btn-secondary" onclick="addOrgMember('ceo')">+ Add Founder</button>
        </div>

        <div class="admin-sub-section">
            <h3>C-Level Executives</h3>
            <div id="org-exec-editor"></div>
            <button class="btn btn-secondary" onclick="addOrgMember('executive')">+ Add Executive</button>
        </div>

        <div class="admin-sub-section">
            <h3>Tech Team</h3>
            <div id="org-tech-editor"></div>
            <button class="btn btn-secondary" onclick="addOrgMember('tech')">+ Add Tech Member</button>
        </div>

        <div class="admin-actions">
            <button class="btn btn-primary" onclick="saveSiteData()">Save Organization</button>
        </div>
    </div>

    <div id="tab-rnd" class="admin-section">
        <h2>Research & Development</h2>
        <div id="rnd-intro-editor"></div>

        <div class="admin-sub-section">
            <h3>Focus Areas</h3>
            <div id="rnd-focus-editor"></div>
            <button class="btn btn-secondary" onclick="addRndFocus()">+ Add Focus Area</button>
        </div>

        <div class="admin-sub-section">
            <h3>Ongoing Research Projects</h3>
            <div id="rnd-projects-editor"></div>
            <button class="btn btn-secondary" onclick="addRndProject()">+ Add Research Project</button>
        </div>

        <div class="admin-actions">
            <button class="btn btn-primary" onclick="saveSiteData()">Save R&D Page</button>
        </div>
    </div>

    <div id="tab-products-page" class="admin-section">
        <h2>Product Page Content</h2>
        <div id="product-page-editor"></div>
        <div class="admin-actions">
            <button class="btn btn-secondary" onclick="addProductItem()">+ Add Product</button>
            <button class="btn btn-primary" onclick="saveProductPage()">Save Products</button>
        </div>
    </div>

    <div id="tab-services" class="admin-section">
        <h2>Services</h2>
        <div id="services-editor"></div>
        <div class="admin-actions">
            <button class="btn btn-secondary" onclick="addService()">+ Add Service</button>
            <button class="btn btn-primary" onclick="saveServices()">Save Services</button>
        </div>
    </div>

    <div id="tab-projects" class="admin-section">
        <h2>Portfolio Projects</h2>
        <div id="projects-editor"></div>
        <div class="admin-actions">
            <button class="btn btn-secondary" onclick="addProject()">+ Add Project</button>
            <button class="btn btn-primary" onclick="saveProjects()">Save Projects</button>
        </div>
    </div>

    <div id="tab-career" class="admin-section">
        <h2>Career Page</h2>
        <h3>Introduction</h3>
        <div class="full-width">
            <label>Intro Title</label>
            <input id="career-intro-title">
            <label>Intro Description</label>
            <textarea id="career-intro-desc"></textarea>
        </div>
        
        <div class="admin-sub-section">
            <h3>Benefits</h3>
            <div id="benefits-editor"></div>
            <button class="btn btn-secondary" onclick="addBenefit()">+ Add Benefit</button>
        </div>

        <div class="admin-sub-section">
            <h3>Open Positions</h3>
            <div id="positions-editor"></div>
            <button class="btn btn-secondary" onclick="addPosition()">+ Add Position</button>
        </div>

        <div class="admin-actions">
            <button class="btn btn-primary" onclick="saveCareer()">Save Career Page</button>
        </div>
    </div>

    <div id="tab-contact" class="admin-section">
        <h2>Contact Page</h2>
        <div class="admin-sub-section">
            <h3>Main Contact Info</h3>
            <div id="main-contact-editor"></div>
        </div>
        
        <div class="admin-sub-section">
            <h3>Global Branches</h3>
            <div id="branches-editor"></div>
            <button class="btn btn-secondary" onclick="addBranch()">+ Add Branch</button>
        </div>

        <div class="admin-actions">
            <button class="btn btn-primary" onclick="saveContact()">Save Contact Page</button>
        </div>
    </div>

</div>

<script src="js/auth.js"></script>
<script>
    if (!localStorage.getItem('isLoggedIn')) {
        // window.location.href = 'login.html'; // Uncomment to enforce login
    }
    
    function switchTab(tabName) {
        document.querySelectorAll('.admin-section').forEach(el => el.classList.remove('active'));
        document.querySelectorAll('.tab-btn').forEach(el => el.classList.remove('active'));
        
        document.getElementById('tab-' + tabName).classList.add('active');
        // Fix to highlight the correct button if clicked
        const btns = document.querySelectorAll(`.tab-btn[onclick="switchTab('${tabName}')"]`);
        if(btns.length > 0) btns[0].classList.add('active');
    }
</script>

<script src="js/admin.js"></script>
</body>
</html>